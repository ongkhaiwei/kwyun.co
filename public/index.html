<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>The Story of KW & Yun</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css" type="text/css">

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="css/animate.min.css" type="text/css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/creative.css" type="text/css">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-316347-3', 'auto');
        ga('send', 'pageview');

    </script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top">
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=925291874255987";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>

    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">KW & Yun</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a><div class="fb-like" data-href="http://kwyun.co" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#story">Story</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#gallery">Gallery</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#wish">Wish</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#followus">Follow Us</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <header>
        <div class="header-content">
            <div class="header-content-inner">
                <h1>The Story of KW & Yun</h1>
                <hr>
                <p>This is a story of Khai Wei and Yun. We found each other and soon we will reach to another milestone in our life by tying the knot. </p>
                <a href="#together" class="btn btn-primary btn-xl page-scroll">Find Out More</a>
            </div>
        </div>
    </header>

    <section class="no-padding" id="together">
        <div class="wrapper">
            <a href="#city" class="page-scroll"><img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5015.jpg" class="img-responsive" alt="Responsive image"></a>
        </div>
    </section>

    <section class="no-padding" id="city">
        <div class="wrapper">
            <a href="#story" class="page-scroll"><img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5319.jpg" class="img-responsive" alt="Responsive image"></a>
        </div>
    </section>

    <section class="bg-primary" id="story">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="section-heading">We're getting married!</h2>
                    <hr class="light">
                    <p class="text-faded">KW & Yun Registration of Marriage (ROM) will be held on</p>
                    <p class="text-faded">February 26, 2016 (Friday)</p>
                    <p class="text-faded">7 Canning Rise, 179869, Singapore.</p>
                    <a href="#gallery" class="btn btn-default btn-xl page-scroll">See Our Photos</a>
                </div>
            </div>
        </div>
    </section>


    <section class="no-padding" id="gallery">
        <div class="container-fluid">
            <div class="row no-gutter">
                <div class="col-lg-4 col-sm-6">
                    <a href="#p1" class="portfolio-box" data-toggle="modal" data-target=".pop-up-1">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5047.jpg" class="img-responsive" alt="" >
                    </a>
                </div>

                <div class="col-lg-4 col-sm-6">
                    <a href="#p2" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_4985.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p3" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5027.jpg" class="img-responsive" alt="">        
                    </a>
                </div><div class="col-lg-4 col-sm-6">
                    <a href="#p4" class="portfolio-box">
                            <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_4996.jpg" class="img-responsive" alt=""> 
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p5" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5011.jpg" class="img-responsive" alt="">
                    </a>
                </div>                
                <div class="col-lg-4 col-sm-6">
                    <a href="#p6" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5020.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p7" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5130.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p8" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5148.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p9" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5173.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p10" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5186.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p11" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5193.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p12" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5194.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p13" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5198.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p14" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5221.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p15" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5229.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p16" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5261.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p17" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5252.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <a href="#p18" class="portfolio-box">
                        <img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5303.jpg" class="img-responsive" alt="">
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section id="wish" class="bg-primary">
        <div class="container text-center">
            <div class="call-to-action">
                <h2>We want your wishes!</h2>
                <p>Our story won't be complete without your wishes. </p>
                

                <form id="share" name="share" class="form-horizontal">
                <fieldset>
                <!-- Text input-->
                <div class="form-group">
                  <label class="col-md-4 control-label" for="textinput">Name</label>  
                  <div class="col-md-4">
                  <input id="name" name="name" type="text" placeholder="Name" class="form-control input-md">  
                  </div>
                </div>

                <!-- Textarea -->
                <div class="form-group">
                  <label class="col-md-4 control-label" for="textarea">Message</label>
                  <div class="col-md-4">                     
                    <textarea class="form-control" name="message" id="message" placeholder="We wish..."></textarea>
                  </div>
                </div>

                <!-- Button -->
                <div class="form-group">
                  <label class="col-md-4 control-label" for="singlebutton"></label>
                  <div class="col-md-4">
                    <a href="#map" id="singlebutton" type="submit" class="btn btn-default btn-xl wow tada page-scroll">Share Privately!</a>
                  </div>
                </div>

                </fieldset>
                </form>

            </div>
        </div>
    </section>

    <section id="map">
        
        <div class="container">

            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <div id="map" style="height: 350px"></div>

                    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
                    <script>
                        var map = L.map('map').setView([3.1390006,101.6168148], 5);
                        map.scrollWheelZoom.disable();
                        map.dragging.disable();
                        map.doubleClickZoom.disable();
                        map.zoomControl = false;

                        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
                        }).addTo(map);

                        var LeafIcon = L.Icon.extend({
                            options: {
                                //shadowUrl: '../docs/images/leaf-shadow.png',
                                iconSize:     [20, 25]
                            }
                        });

                        //var greenIcon = new LeafIcon({iconUrl: '../docs/images/leaf-green.png'}),
                        //    redIcon = new LeafIcon({iconUrl: '../docs/images/leaf-red.png'}),
                        //    orangeIcon = new LeafIcon({iconUrl: '../docs/images/leaf-orange.png'});

                        //L.marker([51.5, -0.09], {icon: greenIcon}).bindPopup("I am a green leaf.").addTo(map);
                        //L.marker([51.495, -0.083], {icon: redIcon}).bindPopup("I am a red leaf.").addTo(map);
                        //L.marker([51.49, -0.1], {icon: orangeIcon}).bindPopup("I am an orange leaf.").addTo(map);
                    </script>
                    
                </div>
            </div>
        
        </div>
    </section>

    <section class="bg-primary" id="thankyou">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="section-heading">Thank you! We received your wishes!</h2>
                    <hr class="light">
                    <p class="text-faded">Your wishes mean a lot to KW & Yun. We are truly touched with your blessings. Each of you is part and parcel of our story and we do remember the precious moments.</p>
                    <p class="text-faded">
                    <a href="#night" class="btn btn-default btn-xl page-scroll">Follow Us</a>
                </div>
            </div>
        </div>
    </section>

    <section class="no-padding" id="night">
        <div class="wrapper">
            <a href="#contact" class="page-scroll"><img src="https://s3-ap-southeast-1.amazonaws.com/kwyun/images/IMG_5298.jpg" class="img-responsive" alt="Responsive image"></a>
        </div>
    </section>

    <section id="followus">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="section-heading">Follow Us! </h2>
                    <hr class="primary">
                </div>
                <div class="col-lg-4 text-center">
                    <a href="https://www.facebook.com/Story-of-KW-Yun-978221888924096/" target="_blank">
                        <i class="fa fa-facebook fa-3x wow bounceIn" data-wow-delay=".2s"></i>
                    </a>
                </div>
                <div class="col-lg-4 text-center">
                    <a href="https://www.instagram.com/storyofkwyun/" target="_blank">
                        <i class="fa fa-instagram fa-3x wow bounceIn" data-wow-delay=".6s"></i>
                    </a>
                </div>
                <div class="col-lg-4 text-center">
                    <a href="mailto:ongkhaiwei@gmail.com">
                        <i class="fa fa-envelope-o fa-3x wow bounceIn" data-wow-delay=".8s"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="js/jquery.easing.min.js"></script>
    <script src="js/jquery.fittext.js"></script>
    <script src="js/wow.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/creative.js"></script>
    <script>

        $('#singlebutton').on('click', function (e) {


            if($("#name").val() != '' && $("#message").val() != '') {
                
                getLocation();

            } else if($("#name").val() == '' && $("#message").val() != '') {

                map.setZoom(4);
                var popup = L.popup();
                     popup
                        .setLatLng(new L.LatLng(3.1390006,101.6168148))
                        .setContent("<div style='width: 250px'><h2>Forget to fill in your name?</h2></div>")
                        .openOn(map);
            } else if($("#name").val() != '' && $("#message").val() == '') {

                //shareWish();
                map.setZoom(4);
                var popup = L.popup();
                     popup
                        .setLatLng(new L.LatLng(3.1390006,101.6168148))
                        .setContent("<div style='width: 250px'><h2>Forget to fill in any message?</h2></div>")
                        .openOn(map);
            } else {


                map.setZoom(4);
                var popup = L.popup();
                     popup
                        .setLatLng(new L.LatLng(3.1390006,101.6168148))
                        .setContent("<div style='width: 250px'><h2>Don't hesitate to share your wishes!</h2></div>")
                        .openOn(map);
            }

            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition,showError);
                } 
            }

            function showError(error) {

                var cood;
                $.get('http://ipinfo.io', function(response)
                {
                    var loc = response.loc;
                    cood = loc.split(","); 
                    
                    $.ajax({

                        url: "/dynamo",
                        type: "POST",
                        contentType: "application/json; charset=UTF-8",
                        //dataType: "json",
                        data: JSON.stringify({
                            name: $('#name').val(),
                            message: $('#message').val(),
                            latitude: cood[0],
                            longitude: cood[1]
                        })
                    });


                    map.panTo(new L.LatLng(cood[0],cood[1]));
                    map.setZoom(12);
                    var popup = L.popup({closeButton: false, closeOnClick: false});
                    popup
                        .setLatLng(new L.LatLng(cood[0],cood[1]))
                        .setContent("<div style='width: 250px'><h2>"+$("#message").val()+"</h2><p>by "+$("#name").val()+"</p></div>")
                        .openOn(map)
                        

                }, 'jsonp');
            }

            function showPosition(position) {
                // x.innerHTML = "Latitude: " + position.coords.latitude + 
                //"<br>Longitude: " + position.coords.longitude;  
                
                $.ajax({

                    url: "/dynamo",
                    type: "POST",
                    contentType: "application/json; charset=UTF-8",
                    //dataType: "json",
                    data: JSON.stringify({
                        name: $('#name').val(),
                        message: $('#message').val(),
                        latitude: position.coords.latitude,
                        longitude: position.coords.longitude
                    })
                });
                
                map.panTo(new L.LatLng(position.coords.latitude,position.coords.longitude));
                map.setZoom(12);
                var popup = L.popup({closeButton: false, closeOnClick: false});
                popup
                    .setLatLng(new L.LatLng(position.coords.latitude,position.coords.longitude))
                    .setContent("<div style='width: 250px'><h2>"+$("#message").val()+"</h2><p>by "+$("#name").val()+"</p></div>")
                    .openOn(map)

            }
        })
    </script>
</body>
</html>
